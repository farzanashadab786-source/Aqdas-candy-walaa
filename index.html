<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mumma's Candy Drag ğŸ­</title>
    <style>
        body { background: #ffdef2; font-family: 'Comic Sans MS', cursive; text-align: center; margin: 0; overflow: hidden; touch-action: none; }
        .header { background: #ff1493; padding: 10px; color: white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        #score-box { font-size: 24px; color: #ff1493; margin: 10px; font-weight: bold; }
        #grid { display: grid; grid-template-columns: repeat(6, 1fr); grid-gap: 5px; max-width: 350px; margin: 0 auto; background: #fff; padding: 10px; border-radius: 15px; border: 4px solid #ff69b4; }
        .candy { width: 50px; height: 50px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 28px; cursor: grab; user-select: none; transition: transform 0.2s; }
        .candy:active { cursor: grabbing; transform: scale(1.1); }
        #footer { margin-top: 20px; color: #db7093; font-weight: bold; font-size: 14px; }
    </style>
</head>
<body>
    <div class="header"><h2>ğŸ¬ CANDY SWAP FOR MUMMA ğŸ­</h2></div>
    <div id="score-box">Score: <span id="score">0</span></div>
    <div id="grid"></div>
    <div id="footer">Drag one candy to another to swap! â¤ï¸</div>

    <script>
        const grid = document.getElementById('grid');
        const scoreDisplay = document.getElementById('score');
        const candies = ['ğŸ', 'ğŸ¬', 'ğŸ­', 'ğŸ©', 'ğŸ¦', 'ğŸ«'];
        let score = 0;
        let board = [];
        let draggedCandy = null;
        let replacedCandy = null;

        function createBoard() {
            for (let i = 0; i < 36; i++) {
                const candy = document.createElement('div');
                candy.classList.add('candy');
                candy.innerHTML = candies[Math.floor(Math.random() * candies.length)];
                candy.setAttribute('draggable', true);
                candy.setAttribute('id', i);
                
                // Drag Events
                candy.addEventListener('dragstart', dragStart);
                candy.addEventListener('dragover', e => e.preventDefault());
                candy.addEventListener('drop', dragDrop);
                
                // Touch Events (For Mobile)
                candy.addEventListener('touchstart', touchStart, {passive: false});
                candy.addEventListener('touchend', touchEnd, {passive: false});

                grid.appendChild(candy);
                board.push(candy);
            }
        }

        function dragStart() { draggedCandy = this; }
        function dragDrop() {
            replacedCandy = this;
            swapCandies();
        }

        // Mobile Touch Logic
        let touchStartX, touchStartY;
        function touchStart(e) {
            draggedCandy = e.target.closest('.candy');
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        }

        function touchEnd(e) {
            const touchEndX = e.changedTouches[0].clientX;
            const touchEndY = e.changedTouches[0].clientY;
            const target = document.elementFromPoint(touchEndX, touchEndY);
            if (target && target.classList.contains('candy')) {
                replacedCandy = target;
                swapCandies();
            }
        }

        function swapCandies() {
            if (draggedCandy && replacedCandy) {
                let temp = draggedCandy.innerHTML;
                draggedCandy.innerHTML = replacedCandy.innerHTML;
                replacedCandy.innerHTML = temp;
                
                // Score increment for every swap
                score += 10;
                scoreDisplay.innerText = score;
                
                // Visual feedback
                replacedCandy.style.transform = 'scale(1.2)';
                setTimeout(() => replacedCandy.style.transform = 'scale(1)', 200);
            }
        }

        createBoard();
    </script>
</body>
</html>
